<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>جميع المنتجات - Honey Empire</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <style>
        .page-header {
            background: linear-gradient(rgba(0, 0, 0, 0.7), rgba(0, 0, 0, 0.7)), url('https://images.unsplash.com/photo-1587049352846-4a222e784d38?ixlib=rb-4.0.3&auto=format&fit=crop&w=2000&q=80');
            background-size: cover;
            background-position: center;
            color: white;
            padding: 100px 0;
            text-align: center;
            margin-bottom: 50px;
        }

        .products-layout {
            display: grid;
            grid-template-columns: 250px 1fr;
            gap: 40px;
            margin-bottom: 80px;
        }

        .filters-sidebar {
            background: white;
            padding: 20px;
            border-radius: 15px;
            box-shadow: var(--shadow);
            height: fit-content;
        }

        .filter-group {
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 1px solid #eee;
        }

        .filter-group:last-child {
            border-bottom: none;
        }

        .filter-group h3 {
            color: var(--primary-brown);
            margin-bottom: 15px;
            font-size: 1.1rem;
        }

        .filter-option {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 10px;
            cursor: pointer;
            color: #666;
        }

        .filter-option:hover {
            color: var(--primary-gold);
        }

        .price-inputs {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .price-inputs input {
            width: 100%;
            padding: 8px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }

        @media (max-width: 992px) {
            .products-layout {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <!-- Loading Screen -->
    <div id="loading-screen">
        <div class="loader"></div>
        <h2 style="color: white;">Honey Empire</h2>
        <p style="color: #ddd;">جاري تحميل المنتجات...</p>
    </div>

    <!-- Header Section -->
    <header>
        <div class="container">
            <div class="header-top">
                <div class="logo" onclick="window.location.href='index.html'">
                    <i class="fas fa-crown"></i>
                    <h1>Honey Empire</h1>
                </div>
                
                <div class="search-bar">
                    <input type="text" placeholder="ابحث عن عسل السدر، المانوكا، الزهور...">
                    <button><i class="fas fa-search"></i></button>
                </div>
                
                <div class="user-actions">
                    <a href="#" id="login-btn">
                        <i class="fas fa-user"></i>
                        <span>تسجيل الدخول</span>
                    </a>
                    <a href="#" id="register-btn">
                        <i class="fas fa-user-plus"></i>
                        <span>إنشاء حساب</span>
                    </a>
                    <a href="#" id="cart-btn">
                        <i class="fas fa-shopping-cart"></i>
                        <span>سلة الشراء</span>
                        <span class="cart-count">0</span>
                    </a>
                </div>
            </div>
            
            <nav>
                <ul>
                    <li><a href="index.html" class="nav-link">الرئيسية</a></li>
                    <li><a href="products.html" class="nav-link active">جميع المنتجات</a></li>
                    <li><a href="products.html?category=sider" class="nav-link">عسل السدر</a></li>
                    <li><a href="products.html?category=flowers" class="nav-link">عسل الزهور</a></li>
                    <li><a href="products.html?category=manuka" class="nav-link">عسل المانوكا</a></li>
                    <li><a href="products.html?category=gifts" class="nav-link">هدايا العسل</a></li>
                    <li><a href="#about" class="nav-link">من نحن</a></li>
                    <li><a href="#contact" class="nav-link">اتصل بنا</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <div class="page-header">
        <div class="container">
            <h2>جميع المنتجات</h2>
            <p>تصفح مجموعتنا الكاملة من العسل الطبيعي الفاخر</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container products-layout">
        <!-- Filters Sidebar -->
        <aside class="filters-sidebar">
            <div class="filter-group">
                <h3>التصنيفات</h3>
                <div class="filter-option" onclick="filterProducts(null)">
                    <i class="fas fa-th-large"></i>
                    <span>الكل</span>
                </div>
                <div class="filter-option" onclick="filterProducts('sider')">
                    <i class="fas fa-tree"></i>
                    <span>عسل السدر</span>
                </div>
                <div class="filter-option" onclick="filterProducts('flowers')">
                    <i class="fas fa-flower"></i>
                    <span>عسل الزهور</span>
                </div>
                <div class="filter-option" onclick="filterProducts('manuka')">
                    <i class="fas fa-leaf"></i>
                    <span>عسل المانوكا</span>
                </div>
                <div class="filter-option" onclick="filterProducts('clover')">
                    <i class="fas fa-seedling"></i>
                    <span>عسل البرسيم</span>
                </div>
            </div>

            <div class="filter-group">
                <h3>السعر</h3>
                <div class="price-inputs">
                    <input type="number" placeholder="من" id="min-price">
                    <span>-</span>
                    <input type="number" placeholder="إلى" id="max-price">
                </div>
                <button class="btn" style="width: 100%; margin-top: 10px; padding: 8px; font-size: 14px;" onclick="applyPriceFilter()">تطبيق</button>
            </div>

            <div class="filter-group">
                <h3>التقييم</h3>
                <div class="filter-option" onclick="filterRating(4)">
                    <i class="fas fa-star" style="color: var(--primary-gold)"></i>
                    <span>4 نجوم وأكثر</span>
                </div>
                <div class="filter-option" onclick="filterRating(3)">
                    <i class="fas fa-star" style="color: var(--primary-gold)"></i>
        </div>
        <div class="cart-items" id="cart-items">
            <!-- Cart items will be dynamically loaded here -->
        </div>
        <div class="cart-total">
            <div class="total-row">
                <span>المجموع:</span>
                <span id="subtotal">0 ر.س</span>
            </div>
            <div class="total-row">
                <span>الشحن:</span>
                <span id="shipping">0 ر.س</span>
            </div>
            <div class="total-row total-final">
                <span>الإجمالي:</span>
                <span id="total">0 ر.س</span>
            </div>
        </div>
        <button class="checkout-btn" onclick="checkout()">إتمام الشراء</button>
    </div>

    <!-- Login Form -->
    <div id="login-form" class="auth-container">
        <div class="auth-form">
            <button class="close-btn">&times;</button>
            <h2>تسجيل الدخول</h2>
            <form id="loginForm">
                <div class="form-group">
                    <label for="login-email">البريد الإلكتروني</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">كلمة المرور</label>
                    <input type="password" id="login-password" required>
                </div>
                <div class="form-options">
                    <label>
                        <input type="checkbox"> تذكرني
                    </label>
                    <a href="#">نسيت كلمة المرور؟</a>
                </div>
                <button type="submit" class="btn" style="width: 100%;"><span>تسجيل الدخول</span></button>
            </form>
            <div class="auth-switch">
                <p>ليس لديك حساب؟ <a href="#" id="switch-to-register">إنشاء حساب جديد</a></p>
            </div>
        </div>
    </div>

    <!-- Register Form -->
    <div id="register-form" class="auth-container">
        <div class="auth-form">
            <button class="close-btn">&times;</button>
            <h2>إنشاء حساب جديد</h2>
            <form id="registerForm">
                <div class="form-group">
                    <label for="register-name">الاسم الكامل</label>
                    <input type="text" id="register-name" required>
                </div>
                <div class="form-group">
                    <label for="register-email">البريد الإلكتروني</label>
                    <input type="email" id="register-email" required>
                </div>
                <div class="form-group">
                    <label for="register-password">كلمة المرور</label>
                    <input type="password" id="register-password" required>
                </div>
                <div class="form-group">
                    <label for="register-confirm-password">تأكيد كلمة المرور</label>
                    <input type="password" id="register-confirm-password" required>
                </div>
                <div class="form-options">
                    <label>
                        <input type="checkbox" required> أوافق على <a href="#">شروط الاستخدام</a> و <a href="#">سياسة الخصوصية</a>
                    </label>
                </div>
                <button type="submit" class="btn" style="width: 100%;"><span>إنشاء الحساب</span></button>
            </form>
            <div class="auth-switch">
                <p>لديك حساب بالفعل؟ <a href="#" id="switch-to-login">تسجيل الدخول</a></p>
            </div>
        </div>
    </div>

    <!-- Notification -->
    <div class="notification" id="notification">
        <i class="fas fa-check-circle"></i>
        <span id="notification-text"></span>
    </div>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>Honey Empire</h3>
                    <p>إمبراطورية العسل الفاخر تقدم أجود أنواع العسل الطبيعي من مختلف أنحاء العالم بجودة لا تضاهى وطعم لا يُنسى.</p>
                    <div class="social-icons">
                        <a href="#"><i class="fab fa-facebook-f"></i></a>
                        <a href="#"><i class="fab fa-twitter"></i></a>
                        <a href="#"><i class="fab fa-instagram"></i></a>
                        <a href="#"><i class="fab fa-whatsapp"></i></a>
                    </div>
                </div>
                
                <div class="footer-column">
                    <h3>روابط سريعة</h3>
                    <ul>
                        <li><a href="index.html"><i class="fas fa-chevron-left"></i> الرئيسية</a></li>
                        <li><a href="#about"><i class="fas fa-chevron-left"></i> من نحن</a></li>
                        <li><a href="products.html"><i class="fas fa-chevron-left"></i> جميع المنتجات</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> عروض خاصة</a></li>
                        <li><a href="#contact"><i class="fas fa-chevron-left"></i> اتصل بنا</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>خدماتنا</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> الشحن والتوصيل</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> الأسئلة الشائعة</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> سياسة الإرجاع</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> دليل أنواع العسل</a></li>
                        <li><a href="#"><i class="fas fa-chevron-left"></i> هدايا الشركات</a></li>
                    </ul>
                </div>
                
                <div class="footer-column">
                    <h3>اتصل بنا</h3>
                    <ul>
                        <li><a href="#"><i class="fas fa-map-marker-alt"></i> الرياض، المملكة العربية السعودية</a></li>
                        <li><a href="#"><i class="fas fa-phone"></i> +966 12 345 6789</a></li>
                        <li><a href="#"><i class="fas fa-envelope"></i> info@honeyempire.com</a></li>
                        <li><a href="#"><i class="fas fa-clock"></i> ٩ ص - ١١ م</a></li>
                    </ul>
                </div>
            </div>
            
            <div class="copyright">
                <p>جميع الحقوق محفوظة &copy; 2023 Honey Empire - إمبراطورية العسل الفاخر</p>
            </div>
        </div>
    </footer>

    <script type="module">
        import { store } from './js/state.js';
        import './js/main.js';

        // Handle URL params for initial filtering
        const urlParams = new URLSearchParams(window.location.search);
        const category = urlParams.get('category');
        if (category) {
            store.setFilter('category', category);
        }

        // Expose filter functions
        window.applyPriceFilter = () => {
            const min = document.getElementById('min-price').value || 0;
            const max = document.getElementById('max-price').value || 10000;
            store.setFilter('priceRange', { min: Number(min), max: Number(max) });
        };

        window.filterRating = (rating) => {
            store.setFilter('minRating', rating);
        };
    </script>
</body>
</html>
